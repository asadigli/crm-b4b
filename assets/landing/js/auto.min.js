import{$ld,notify_once,l,paginateController,getUrlParameter,filter_url,$_get,number_format,$db,hdKey,path_local,slugify}from"./parts.min.js?v=1.0.5";import{productComponent,newsComponent,promotionComponent,brandComponent,certificateComponent}from"./components.min.js?v=1.0.3";import{Screen}from"./current_screen.min.js?v=2";import{Loader}from"./loader.min.js?v=2";var scroll_keys={37:1,38:1,39:1,40:1};function preventDefault(t){t.preventDefault()}function preventDefaultForScrollKeys(t){if(scroll_keys[t.keyCode])return preventDefault(t),!1}var supportsPassive=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){supportsPassive=!0}}))}catch(t){}var wheelOpt=!!supportsPassive&&{passive:!1},wheelEvent="onwheel"in document.createElement("div")?"wheel":"mousewheel";export const disableScroll=()=>{window.addEventListener("DOMMouseScroll",preventDefault,!1),window.addEventListener(wheelEvent,preventDefault,wheelOpt),window.addEventListener("touchmove",preventDefault,wheelOpt),window.addEventListener("keydown",preventDefaultForScrollKeys,!1)};export const enableScroll=()=>{window.removeEventListener("DOMMouseScroll",preventDefault,!1),window.removeEventListener(wheelEvent,preventDefault,wheelOpt),window.removeEventListener("touchmove",preventDefault,wheelOpt),window.removeEventListener("keydown",preventDefaultForScrollKeys,!1)};!function(t){$.fn.addClass=function(){return t.apply(this,arguments),this.trigger("classChanged"),this}}($.fn.addClass),function(t){$.fn.removeClass=function(){return t.apply(this,arguments),this.trigger("classChanged"),this}}($.fn.removeClass),$(function(){let t=!1,e=!1,a=!1,n=!1,o=!1,r=!1,s=!1;$(document).on("click",".popBtn",function(t){const e=$(this).data("id"),a=$(`.popUpStyle[data-id=${e}]`);t.preventDefault(),$(a).toggleClass("active")}),$(document).on("click",'[data-role="prod-img-thumbnail"]',function(){$('[data-role="main-img-product"]').attr("style",`background-image: url('${$(this).data("src")}')`)}),$(document).on("click",".popUpStyle .close-icon",function(){$(".popUpStyle").removeClass("active")}),$("#be-partner").on("classChanged",function(){$(this).hasClass("active")?(window.addEventListener("DOMMouseScroll",preventDefault,!1),window.addEventListener(wheelEvent,preventDefault,wheelOpt),window.addEventListener("touchmove",preventDefault,wheelOpt),window.addEventListener("keydown",preventDefaultForScrollKeys,!1)):(window.removeEventListener("DOMMouseScroll",preventDefault,!1),window.removeEventListener(wheelEvent,preventDefault,wheelOpt),window.removeEventListener("touchmove",preventDefault,wheelOpt),window.removeEventListener("keydown",preventDefaultForScrollKeys,!1))}),$('input[name="person_number"]').length&&$('input[name="person_number"]').inputmask({mask:"(99) 999-99-99",autoUnmask:!0,removeMaskOnSubmit:!0}),$("#g-recaptcha-response").length&&($("#g-recaptcha-response").prop("required",!0),$(document).on("click",'[data-role="send-contact-btn"]',function(t){t.preventDefault();let e=$(this).parents("form"),a=e.attr("action"),n=e.find("input,textarea"),o={},r=$(this).data("error-text"),s=0;n.each(t=>{let e=n.eq(t);o[e.attr("name")]=e.val(),e.siblings('[data-role="input-error-mess"]').eq(0).remove(),e.removeClass("invalid"),e.attr("required")&&!e.val()&&(e.addClass("invalid"),e.after(`<span data-role="input-error-mess">${r}</span>`),s++)}),s||(Loader.btn({element:t.target,action:"start"}),$.post({url:a,data:o,headers:hdKey,success:function(e){console.log(e),200===e.code?(n.val(""),notify_once(l("Thank you for keeping in touch with us"),"success"),Loader.btn({element:t.target,action:"success"})):(console.error(e),notify_once(l("Warning"),"warning"),Loader.btn({element:t.target,action:"warning"}))},error:function(e){console.error(e),Loader.btn({element:t.target,action:"error"})},complete:function(){Loader.btn({element:t.target,action:"end"})}}))})),$(document).on("click",'button[data-id="be-partner"]',function(){r||(r=!0,$.get({headers:hdKey,url:"/product/regions",success:function(t){let e=t.length?t.map(t=>`<option value="${t.name}">${t.name}</option>`):"";$("#formCityList").html(`<option value="">${$("#formCityList").data("text")}</option>${e}`),r=!!t.length},error:function(){r=!1}}),$('input[name="comp_phone"]').inputmask({mask:"(99) 999-99-99",autoUnmask:!0,removeMaskOnSubmit:!0}))}),$(document).on("keyup",'[type="email"]',function(){let t=$(this).val();if($(this).siblings('[data-role="input-error-mess"]').eq(0).remove(),$(this).attr("data-error-text")){if(!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())){let t=$(this).data("error-text");$(this).after(`<span data-role="input-error-mess">${t}</span>`)}}});$(document).on("click","#formSend",function(t){t.preventDefault();let e=$("#formSend").parents("form"),a=e.find("input,textarea,select"),n=$(this).data("error-text"),o={},r=e.attr("action"),s=0;a.each(t=>{let e=a.eq(t);o[e.attr("name")]=e.val(),e.siblings('[data-role="input-error-mess"]').eq(0).remove(),e.removeClass("invalid"),e.attr("required")&&!e.val()&&(e.addClass("invalid"),e.after(`<span data-role="input-error-mess">${n}</span>`),s++)}),s||(Loader.btn({element:t.target,action:"start"}),$.post({url:r,data:o,headers:hdKey,success:function(e){200===e.code&&(Loader.btn({element:t.target,action:"success"}),a.val(""),$(".popUpStyle").removeClass("active"),$("body").removeClass("overflow-hidden"),notify_once(l("We will contact you soon"),"success"))},error:function(e){Loader.btn({element:t.target,action:"error"})},complete:function(){Loader.btn({element:t.target,action:"end"})}}))}),$(".carousel-product-detail .owl-carousel").owlCarousel({items:3,dots:!0,margin:15,navText:["<img src='/assets/landing/img/icons/arrow-point-to-left.svg'>","<img src='/assets/landing/img/icons/arrow-point-to-right.svg'>"],responsive:{0:{}}});let i=t=>{$(t).owlCarousel({items:4,dots:!1,nav:!0,margin:20,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,navText:["<img src='/assets/landing/img/icons/arrow-point-to-left.svg'>","<img src='/assets/landing/img/icons/arrow-point-to-right.svg'>"],responsive:{1281:{stagePadding:!1},768:{items:4},0:{items:2,navText:["<img src='/assets/landing/img/icons/arrow-point-to-left-white.svg'>","<img src='/assets/landing/img/icons/arrow-point-to-right-white.svg'>"]}}})},d=$('[data-role="panel-section-slider"]').owlCarousel({items:1,dots:!1,nav:!1,autoplay:!0,autoplayTimeout:5e3,autoplayHoverPause:!0,loop:!0}),c=!1;d.on("changed.owl.carousel",function(t){c||(c=!0,$('[data-role="panel-section-slider"]').find("img").attr("src",$('[data-role="panel-section-slider"]').data("src")).removeAttr("data-src"))});let m=$("#productDetail").data("brand-code"),u=$("#productDetail").data("no-info-text"),p=e=>{e&&!t&&(t=!0,$.get({url:"/product/similar/list",headers:hdKey,data:{product:e},cache:!0,success:function(t){let a=Array.isArray(t)?t.map(t=>e!==t.slug?productComponent(t.id,t.slug,t.name,t.brand,t.image):"").join(" "):"";a?($("#similarProducts > div > div").html(a).removeClass("fake-card-line").addClass("owl-carousel , owl-theme"),$("#similarProducts").removeClass("load"),i("#similarProducts > div > div")):$("#similarProducts > div > div").html(a).removeClass("fake-card-line")},error:function(e){console.error(e),t=!1,$("#similarProducts > div > div").html(h).removeClass("fake-card-line")},complete:function(){}}))},f=(t,a)=>{if(!t||e)return;e=!0;let n=t?(t+"").replace(/[^A-Z0-9]/gi,""):"",o=$(a||"#productDescription"),r=`<p class="text-center text-danger">${u}</p>`,s=o.find("table");n||s.addClass("d-none").after(r),$.get({url:"/product/details",cache:!0,headers:hdKey,data:{code:n},success:function(t){let e="";if(200===t.code){let a=[],n=0,o=t.data;o.map(t=>{Object.keys(a).includes(t.brand)?n++:n=1,a[t.brand]=n}),o.map((t,n)=>{e+=`<tr>\n\t\t\t\t\t\t\t\t\t\t${0===n||t.brand!==o[n-1].brand?`<td rowspan="${a[t.brand]}">${t.brand}</td>`:""}\n\t\t\t\t\t\t\t\t\t\t<td>${t.namecriteria}</td>\n\t\t\t\t\t\t\t\t\t\t<td>${t.valuecriteria}</td>\n\t\t\t\t\t\t\t\t\t</tr>`})}e?o.removeClass("load").find("tbody").html(e):(o.removeClass("load"),s.addClass("d-none").after(r))},error:function(t){console.error(t),e=!1,o.removeClass("load"),s.addClass("d-none").after(r)}})},v=(t,e)=>{if(!t||a)return;a=!0;let n=t?(t+"").replace(/[^A-Z0-9]/gi,""):"",o=$(e||"#crossreference_list"),r=`<p class="text-center text-danger">${u}</p>`,s=o.find("table");n||s.addClass("d-none").after(r),$.get({url:"/product/cross-references",headers:hdKey,cache:!0,data:{code:n},success:function(t){let e="",a=t=>`<a href="https://www.google.com/images?q=${t}" target="_blank" onclick="window.event.preventDefault();this.newWindow = window.open('https://www.google.com/images?q=0024773001&amp;url='+escape(document.location.href)+'&amp;referrer='+escape(document.referrer), 'webim', 'toolbar=0,scrollbars=0,location=0,status=1,menubar=0,width=800,height=500,top=20, left=400,resizable=1');this.newWindow.focus();this.newWindow.opener=window;return false;">\n\t\t\t\t\t\t\t\t\t\t<i class="fa fa-camera cs_camera_icon" aria-hidden="true"></i></a>`;if(200===t.code){let n=[],o=t.data;(o=o.sort(function(t,e){return(""+t.car_brand).localeCompare(e.car_brand)})).map(t=>{n[t.car_brand.trim()]=Object.keys(n).includes(t.car_brand.trim())?n[t.car_brand.trim()]+1:1}),o.map((t,r)=>{e+=`<tr>\n\t\t\t\t\t\t\t\t\t\t${0===r||t.car_brand.trim()!==o[r-1].car_brand.trim()?`<td rowspan="${n[t.car_brand.trim()]}">${t.car_brand}</td>`:""}\n\t\t\t\t\t\t\t\t\t\t<td>${a(t.OEM)}</td>\n\t\t\t\t\t\t\t\t\t\t<td>${t.OEM}</td>\n\t\t\t\t\t\t\t\t\t\t<td>${t.brand}</td>\n\t\t\t\t\t\t\t\t\t\t<td>${a(t.brand_code)}</td>\n\t\t\t\t\t\t\t\t\t\t<td>${t.brand_code}</td>\n\t\t\t\t\t\t\t\t\t\t<td>${t.group||"--"}</td>\n\t\t\t\t\t\t\t\t\t\t<td>${t.product||"--"}</td>\n\t\t\t\t\t\t\t\t\t</tr>`})}e?o.removeClass("load").find("tbody").html(e):(o.removeClass("load"),s.addClass("d-none").after(r))},error:function(t){console.error(t),a=!1,o.removeClass("load"),s.addClass("d-none").after(r)}})},g=(t,e)=>{if(!t||n)return;n=!0;let a=t?(t+"").replace(/[^A-Z0-9]/gi,""):"",o=$(e||"#oems_list"),r=`<p class="text-center text-danger">${u}</p>`,s=o.find("table");a||s.addClass("d-none").after(r),$.get({url:"/product/similar-oems",headers:hdKey,cache:!0,data:{code:a},success:function(t){let e="";200===t.code&&t.data.map((t,a)=>{e+=`<tr><td>${t}</td></tr>`}),e?o.removeClass("load").find("tbody").html(e):(o.removeClass("load"),s.addClass("d-none").after(r))},error:function(t){console.error(t),n=!1,o.removeClass("load"),s.addClass("d-none").after(r)},complete:function(){}})},w=(t,e)=>{if(!t||s)return;s=!0;let a=t?(t+"").replace(/[^A-Z0-9]/gi,""):"",n=$(e||"#compatible_cars_list"),o=`<p class="text-center text-danger">${u}</p>`,r=n.find("table");a||r.addClass("d-none").after(o),$.get({url:"/product/compatible-cars",headers:hdKey,cache:!0,data:{code:a},success:function(t){let e="";200===t.code&&t.data.map((t,a)=>{e+=`<tr>\n\t\t\t\t\t\t\t\t\t\t<td>${t.CAR_BRAND}</td>\n\t\t\t\t\t\t\t\t\t\t<td>${t.CAR_MODEL}</td>\n\t\t\t\t\t\t\t\t\t\t<td>${t.CAR_TYP}</td>\n\t\t\t\t\t\t\t\t\t\t<td>${t.CAR_BODY}</td>\n\t\t\t\t\t\t\t\t\t\t<td>${t.CAR_OF_YEAR}</td>\n\t\t\t\t\t\t\t\t\t\t<td>${t.CAR_TO_YEAR}</td>\n\t\t\t\t\t\t\t\t\t\t<td>${t.CAR_KW}</td>\n\t\t\t\t\t\t\t\t\t\t<td>${t.CAR_PM}</td>\n\t\t\t\t\t\t\t\t\t\t<td>${t.CAR_CC}</td>\n\t\t\t\t\t\t\t\t\t</tr>`}),e?n.removeClass("load").find("tbody").html(e):(n.removeClass("load"),r.addClass("d-none").after(o))},error:function(t){console.error(t),s=!1,n.removeClass("load"),r.addClass("d-none").after(o)},complete:function(){}})},b=t=>{o||(o=!0,$.get({url:"/brand/list-live",headers:hdKey,data:t,success:function(t){let e="",a=200===t.code?t.data.map(t=>brandComponent(t.image,t.name,t.id)).join(""):"";200===t.code&&t.data.map((t,a)=>{e+=a<10?`<a href="${path_local(`brand/${slugify(t.name)+"-"+t.id}`)}" class="brand-card card-img"><img src="${t.image&&t.image.small?t.image.small:"/assets/landing/img/no_photo.png"}" alt="${t.name}" loading="lazy"></a>`:""}),$("#brand_container").html(a).removeClass("load"),$('#home_brands [data-role="home-br-list"]').html(e).addClass("owl-carousel").removeClass("fake-card-line load").owlCarousel({items:6,margin:30,dots:!0,dotsEach:1,autoplay:!0,autoplayTimeout:3e3,responsive:{768:{items:6},0:{items:2}}})},error:function(t){console.error(t),o=!1}}))};var C;if($("#certificate_list").length&&$.get({url:"/certificates/list-live",data:C,headers:hdKey,success:function(t){let e=200===t.code?t.data.map(t=>certificateComponent(t.files,t.name)).join(""):"";$("#certificate_list").html(e).removeClass("load"),$(".fancybox").fancybox()},error:function(t){console.error(t)}}),$("#news_list").length){let t=0,e=$_get("page")||1,a=e=>{$.get({url:"/news/list-live",data:{page:e},headers:hdKey,success:function(a){let n=200===a.code?a.data.list.map(t=>newsComponent(t.title,t.images,t.slug,t.details,t.date)).join(" "):"";t=Math.ceil(a.data.count/5),paginateController(t,null,e),$("#news_list").html(n).removeClass("load"),1!==parseInt(e)&&$("html, body").animate({scrollTop:$("#news_list").offset().top-130},"slow")},error:function(t){console.error(t)}})};$db.on("click",'[data-role="pagination"] a:not([disabled])',function(){e=paginateController(t,$(this)),filter_url([{page:e+""}]),location.reload()}),a(e)}if($("#promotions_list").length){let t=0,e=$_get("page")||1,a=e=>{$.get({url:"/promotion/list-live",data:{page:e},headers:hdKey,success:function(a){1!==parseInt(e)&&200===a.code&&window.scroll(0,0);let n=200===a.code?a.data.list.map(t=>promotionComponent(t.id,t.slug,t.title,t.images,t.details)).join(" "):"";$("#promotions_list").html(n).removeClass("load"),t=Math.ceil(a.data.count/5),paginateController(t,null,e)},error:function(t){}})};$db.on("click",'[data-role="pagination"] a:not([disabled])',function(){e=paginateController(t,$(this)),filter_url([{page:e+""}]),location.reload()}),a(e)}if($("#crossreference_list").length){Screen.view($("#crossreference_list"),!1)&&v(m),$db.on("click","#cross-reference-tab",function(){v(m)}),$(window).scroll(function(t){Screen.view($("#crossreference_list"),!1)&&v(m)})}if($(document).on("click",'[data-bs-target="#CrossReferenceMobileTab"]',function(){v(m,"#CrossReferenceMobileTab")}),$("#oems_list").length){Screen.view($("#oems_list"),!1)&&g(m),$db.on("click","#oem-codes-tab",function(){g(m)}),$(window).scroll(function(t){Screen.view($("#oems_list"),!1)&&g(m)})}if($("#compatible_cars_list").length){Screen.view($("#compatible_cars_list"),!1)&&w(m),$db.on("click","#compatible-cars-tab",function(){w(m)}),$(window).scroll(function(t){Screen.view($("#compatible_cars_list"),!1)&&w(m)})}if($(document).on("click",'[data-bs-target="#oemListMobile"]',function(){g(m,"#oemListMobile")}),$(document).on("click",'[data-bs-target="#compatibleCars"]',function(){w(m,"#compatibleCars")}),$db.on("click","#oem-codes-tab",function(){g(m)}),$("#productDescription").length){Screen.view($("#productDescription"),!1)&&f(m),$(window).scroll(function(t){Screen.view($("#productDescription"),!1)&&f(m)})}if($(document).on("click",'[data-bs-target="#prodDetailsTab"]',function(){f(m,"#prodDetailsTab")}),$("#similarProducts").length){Screen.view($("#similarProducts"),!1)&&p($("#productDetail").data("product-slug")),$(window).scroll(function(t){Screen.view($("#similarProducts"),!1)&&p($("#productDetail").data("product-slug"))})}$("#productDetail").length&&window.history&&window.history.pushState&&$(window).on("popstate",function(){let t=getUrlParameter("tab");$("#nav-tab").find(`#${t}-tab`).addClass("active").siblings().removeClass("active"),$(`#${t}`).addClass("show active").siblings().removeClass("show active"),"more-details"===t?f(m):"cross-reference"===t&&v(m)}),$("#brand_container").length&&(Screen.view($("#brand_container"),!1)&&b(),$(window).scroll(function(t){Screen.view($("#brand_container"),!1)&&b()})),$("#home_brands").length&&(Screen.view($("#home_brands"),!1)&&b({limit:36}),$(window).scroll(function(t){Screen.view($("#home_brands"),!1)&&b({limit:36})})),$db.on("change",'input[type="checkbox"]',function(){0==$(this).val()?$(this).val(1):$(this).val(0)}),$db.on("change","input[type='number']",function(){if($(this).attr("max")){let t=parseInt($(this).attr("max"));$(this).val()>t&&$(this).val(t)}if($(this).attr("min")){let t=parseInt($(this).attr("min"));$(this).val()<t&&$(this).val(t)}});let _=!1,y=()=>{_||(_=!0,$.get({url:"/product/home-products",headers:hdKey,cache:!0,success:function(t){if(Array.isArray(t)&&t.length){let e=t.map(t=>productComponent(t.id,t.slug,t.prod_name,t.brand,t.image)).join(" ");$("#home_pg_products > div > div").html(e).removeClass("fake-card-line").addClass("owl-carousel owl-theme mt-3"),$("#home_pg_products").removeClass("load"),i("#home_pg_products > div > div")}else $("#home_pg_products > div > div").html("").parents("#home_pg_products").addClass("d-none")},error:function(t){console.error(t)},complete:function(){$ld.addClass("d-none")}}))};if($("#home_pg_products").length){Screen.view($("#home_pg_products"),!1)&&y(),$(window).scroll(function(t){Screen.view($("#home_pg_products"),!1)&&y()})}$("#brand_list").length&&$(".overlay-filter").addClass("d-none"),$db.on("click",'a[data-target="#viewImage"]',function(){$("#viewImage .modal-body img").attr("src",$(this).data("big-img"))}),$db.on("click","#nav-tab .nav-item",function(){filter_url([{action:getUrlParameter("action")},{tab:$(this).attr("href").replace("#","")}])});let k=$("img[data-src]");for(var D=0;D<k.length;D++)k.eq(D).attr("src",k.eq(D).data("src"));$("link[href$='bootstrap-select.css']").length&&$(".multiple-select").selectpicker(),$db.on("click",'.edit-by-lang a[data-toggle="tab"]',function(){let t=$(this),e=t.attr("href").replace("#",""),a=e.replace("tab_","");t.addClass("active").siblings().removeClass("active"),$(".tab-content #"+e).addClass("active show").siblings("div").removeClass("active show"),$("input[name='language']").val(a),filter_url([{language:a}])})});
